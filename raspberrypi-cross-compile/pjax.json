{"title":"搭建RaspberryPi的交叉编译环境","url":"/raspberrypi-cross-compile/","content":"<blockquote>\n<p>浙江大学嵌入式系统课程</p>\n</blockquote>\n<p><strong>安装交叉编译工具</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">sudo</span> apt-get install gcc-arm-linux-gnueabi</div></pre></td></tr></table></figure>\n\n<p><img src=\"http://img.nilennoct.com/wp-content/uploads/2013/03/Lab_02_01.png\" alt=\"Lab_02_01\"></p>\n<p><strong>编写测试程序hello.c并编译</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">arm-linux-gnueabi-gcc hello.c</div></pre></td></tr></table></figure>\n\n<p><a id=\"more\"></a><br><img src=\"http://img.nilennoct.com/wp-content/uploads/2013/03/Lab_02_02.png\" alt=\"Lab_02_02\"></p>\n<p><strong>通过scp命令上传编译好的文件到RPi</strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">scp a.out pi@<span class=\"number\">192.168</span>.<span class=\"number\">0.4</span>:~/coding/c</div></pre></td></tr></table></figure>\n\n<p><img src=\"http://img.nilennoct.com/wp-content/uploads/2013/03/Lab_02_03.png\" alt=\"Lab_02_03\"></p>\n<p>测试结果如下图所示。</p>\n<p><img src=\"http://img.nilennoct.com/wp-content/uploads/2013/03/Lab_02_04.png\" alt=\"Lab_02_04\"></p>\n<ol>\n<li>开启NFS服务</li>\n</ol>\n<p>每次上传文件都要用scp显然太麻烦了，所以可以开启NFS服务直接访问RPi。</p>\n<p>在RPi上的NFS服务端添加/home/pi，重新启动nfs-kernel-server（详细方法见“<a href=\"http://www.nilennoct.com/raspberrypi-nas-chinese-encode-samba-sftp-dlna-nfs/\" target=\"_blank\" rel=\"external\">RaspberryPi搭建NAS之中文兼容性检测</a>”第4部分）。</p>\n<p>在ubuntu中执行以下命令：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"built_in\">cd</span> ~</div><div class=\"line\">mkdir pi</div><div class=\"line\"><span class=\"built_in\">sudo</span> mount <span class=\"number\">192.168</span>.<span class=\"number\">0.4</span>:/home/pi /home/neo/pi</div></pre></td></tr></table></figure>\n\n<p><img src=\"http://img.nilennoct.com/wp-content/uploads/2013/03/Lab_02_05.png\" alt=\"Lab_02_05\"></p>\n<ol>\n<li>编写float.c并编译</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">arm-linux-gnueabi-gcc -o float float.c</div></pre></td></tr></table></figure>\n\n<p><img src=\"http://img.nilennoct.com/wp-content/uploads/2013/03/Lab_02_06.png\" alt=\"Lab_02_06\"></p>\n<p>在RPi上运行float查看运行结果。</p>\n<p><img src=\"http://img.nilennoct.com/wp-content/uploads/2013/03/Lab_02_07.png\" alt=\"Lab_02_07\"></p>\n","layout":"post"}